import {
    GoogleGenerativeAI
} from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plan for Location: Ahmedabad, Gujarat, India, for 3 days for Couple with a Cheap budget, Give me hotel options list with HotelName, Hotel address, Price, hotel image URL, geo coordinates, rating, descriptions and suggest itinerary with placeName, place Detals, Place Image URL, Geo Coordinates, ticket Pricing, rating, Time to travel, time each of the location for 3 days with each day plan with best time to visit in JSON format." },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"name\": \"Hotel The Fern Residency\",\n      \"address\": \"S.G. Highway, Opp. Gujarat University, Ahmedabad, Gujarat 380015\",\n      \"price\": \"₹1,500 - ₹3,000\",\n      \"image_url\": \"https://images.trvl-media.com/hotels/1000000/900000/899000/898400/898440/898440_134_b.jpg\",\n      \"geo_coordinates\": \"23.0212, 72.5596\",\n      \"rating\": 4.2,\n      \"description\": \"A modern and comfortable hotel with a rooftop pool and restaurant, offering great value for money.\"\n    },\n    {\n      \"name\": \"OYO Townhouse 082\",\n      \"address\": \"Prahlad Nagar, Ahmedabad, Gujarat 380015\",\n      \"price\": \"₹1,000 - ₹2,000\",\n      \"image_url\": \"https://images.trvl-media.com/hotels/1000000/900000/899000/898300/898395/898395_148_b.jpg\",\n      \"geo_coordinates\": \"23.0183, 72.5540\",\n      \"rating\": 4.0,\n      \"description\": \"A budget-friendly hotel with clean and modern rooms, located in a convenient location.\"\n    },\n    {\n      \"name\": \"Hotel Grand Bhagwati\",\n      \"address\": \"Ashram Road, Ellisbridge, Ahmedabad, Gujarat 380006\",\n      \"price\": \"₹2,500 - ₹4,000\",\n      \"image_url\": \"https://images.trvl-media.com/hotels/1000000/900000/899000/898500/898548/898548_170_b.jpg\",\n      \"geo_coordinates\": \"23.0188, 72.5468\",\n      \"rating\": 4.5,\n      \"description\": \"A luxurious hotel with a grand ambiance, offering excellent service and amenities.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place\": \"Sabarmati Ashram\",\n          \"details\": \"Visit the historic ashram of Mahatma Gandhi, where he lived and worked during the Indian independence movement.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Sabarmati_Ashram_main_building.jpg/1200px-Sabarmati_Ashram_main_building.jpg\",\n          \"geo_coordinates\": \"23.0054, 72.5586\",\n          \"ticket_pricing\": \"Free entry\",\n          \"rating\": 4.7,\n          \"time_to_travel\": \"15 minutes from city center\",\n          \"time_at_location\": \"2 hours\"\n        },\n        {\n          \"time\": \"Afternoon (1:00 PM - 3:00 PM)\",\n          \"place\": \"Gandhi Ashram Museum\",\n          \"details\": \"Explore the museum that showcases the life and legacy of Mahatma Gandhi, with artifacts and exhibits.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Sabarmati_Ashram_Museum_Ahmedabad.jpg/1200px-Sabarmati_Ashram_Museum_Ahmedabad.jpg\",\n          \"geo_coordinates\": \"23.0056, 72.5585\",\n          \"ticket_pricing\": \"₹20 per person\",\n          \"rating\": 4.5,\n          \"time_to_travel\": \"5 minutes from Sabarmati Ashram\",\n          \"time_at_location\": \"1 hour\"\n        },\n        {\n          \"time\": \"Evening (4:00 PM - 7:00 PM)\",\n          \"place\": \"Calico Museum of Textiles\",\n          \"details\": \"Discover the rich history of Indian textiles at this museum, featuring a vast collection of traditional fabrics and techniques.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Calico_Museum_of_Textiles.jpg/1200px-Calico_Museum_of_Textiles.jpg\",\n          \"geo_coordinates\": \"23.0066, 72.5550\",\n          \"ticket_pricing\": \"₹150 per person\",\n          \"rating\": 4.8,\n          \"time_to_travel\": \"10 minutes from Gandhi Ashram Museum\",\n          \"time_at_location\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place\": \"Hathisingh Jain Temple\",\n          \"details\": \"Admire the intricate architecture and serene atmosphere of this Jain temple, known for its elaborate carvings and marble work.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2d/Hathisingh_Jain_Temple_%28Ahmedabad%29.jpg/1200px-Hathisingh_Jain_Temple_%28Ahmedabad%29.jpg\",\n          \"geo_coordinates\": \"23.0209, 72.5459\",\n          \"ticket_pricing\": \"Free entry\",\n          \"rating\": 4.6,\n          \"time_to_travel\": \"15 minutes from Calico Museum of Textiles\",\n          \"time_at_location\": \"1.5 hours\"\n        },\n        {\n          \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n          \"place\": \"Sidi Saiyyed Mosque\",\n          \"details\": \"Visit this historic mosque, known for its beautiful architecture and intricate stone carvings.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Sidi_Saiyyed_Mosque_1.jpg/1200px-Sidi_Saiyyed_Mosque_1.jpg\",\n          \"geo_coordinates\": \"23.0192, 72.5478\",\n          \"ticket_pricing\": \"Free entry\",\n          \"rating\": 4.4,\n          \"time_to_travel\": \"5 minutes from Hathisingh Jain Temple\",\n          \"time_at_location\": \"1 hour\"\n        },\n        {\n          \"time\": \"Evening (5:00 PM - 7:00 PM)\",\n          \"place\": \"Bhadra Fort\",\n          \"details\": \"Explore the ruins of this ancient fort, which once served as the seat of the Mughal rulers of Ahmedabad.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Bhadra_Fort_Ahmedabad.jpg/1200px-Bhadra_Fort_Ahmedabad.jpg\",\n          \"geo_coordinates\": \"23.0199, 72.5489\",\n          \"ticket_pricing\": \"Free entry\",\n          \"rating\": 4.3,\n          \"time_to_travel\": \"5 minutes from Sidi Saiyyed Mosque\",\n          \"time_at_location\": \"1.5 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 11:00 AM)\",\n          \"place\": \"Adalaj Stepwell\",\n          \"details\": \"Marvel at the intricately carved stepwell, a remarkable example of ancient Indian architecture and engineering.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Adalaj_Stepwell_2014.jpg/1200px-Adalaj_Stepwell_2014.jpg\",\n          \"geo_coordinates\": \"23.0571, 72.5380\",\n          \"ticket_pricing\": \"₹20 per person\",\n          \"rating\": 4.9,\n          \"time_to_travel\": \"45 minutes from Bhadra Fort\",\n          \"time_at_location\": \"2 hours\"\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 2:00 PM)\",\n          \"place\": \"Manek Burj\",\n          \"details\": \"Explore this historic tower, offering panoramic views of Ahmedabad and its surrounding areas.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/68/Manek_Burj_Ahmedabad.jpg/1200px-Manek_Burj_Ahmedabad.jpg\",\n          \"geo_coordinates\": \"23.0198, 72.5495\",\n          \"ticket_pricing\": \"₹10 per person\",\n          \"rating\": 4.2,\n          \"time_to_travel\": \"15 minutes from Adalaj Stepwell\",\n          \"time_at_location\": \"1 hour\"\n        },\n        {\n          \"time\": \"Evening (3:00 PM - 5:00 PM)\",\n          \"place\": \"Law Garden\",\n          \"details\": \"Experience the vibrant street food culture and shopping at Law Garden, a bustling market known for its traditional handicrafts and delicious snacks.\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Law_Garden_Ahmedabad.jpg/1200px-Law_Garden_Ahmedabad.jpg\",\n          \"geo_coordinates\": \"23.0191, 72.5490\",\n          \"ticket_pricing\": \"Free entry\",\n          \"rating\": 4.6,\n          \"time_to_travel\": \"5 minutes from Manek Burj\",\n          \"time_at_location\": \"2 hours\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Please note:**\n\n* This itinerary is a suggestion and can be customized based on your preferences and interests.\n* The prices for hotels and tickets may vary depending on the season and availability. \n* It's recommended to book hotels and tours in advance, especially during peak season. \n* You can find more information about each place and its attractions online.\n\nEnjoy your trip to Ahmedabad!\n" },
            ],
        },
    ],
});
